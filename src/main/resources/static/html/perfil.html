<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/css/perfilStyles.css">
    <title>Perfil do Paciente</title>
</head>

<body>
<header>
    <h1>Perfil do Paciente</h1>
</header>

<main>
    <section id="patientDataSection">
        <h2>Dados do Paciente</h2>
        <ul id="patientData"></ul>
    </section>

    <section id="updateSection">
        <h2>Atualizar Dados</h2>
        <form id="updateForm">
            <label for="name"></label><input type="text" id="name" placeholder="Nome" required>
            <label for="email"></label><input type="email" id="email" placeholder="Email" required>
            <label for="cpf"></label><input type="text" id="cpf" placeholder="CPF" required>
            <button type="submit">Atualizar</button>
        </form>
    </section>

    <section id="deleteSection">
        <h2>Deletar Conta</h2>
        <button id="deleteAccount">Deletar Conta</button>
    </section>
</main>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Exemplo de dados do paciente
        const patientData = {
            name: 'Nome do Paciente',
            email: 'paciente@email.com',
            cpf: '123.456.789-00',
        };

        // Preencher os dados do paciente na lista
        const patientList = document.getElementById('patientData');
        for (const [key, value] of Object.entries(patientData)) {
            const listItem = document.createElement('li');
            listItem.innerHTML = `<strong>${key}:</strong> ${value}`;
            patientList.appendChild(listItem);
        }

        // Atualizar dados do paciente
        const updateForm = document.getElementById('updateForm');
        updateForm.addEventListener('submit', function (event) {
            event.preventDefault();

            // Substitua esta lógica com a sua lógica de atualização de dados
            const updatedData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                cpf: document.getElementById('cpf').value,
            };

            // Atualizar a lista de dados do paciente
            while (patientList.firstChild) {
                patientList.removeChild(patientList.firstChild);
            }

            for (const [key, value] of Object.entries(updatedData)) {
                const listItem = document.createElement('li');
                listItem.innerHTML = `<strong>${key}:</strong> ${value}`;
                patientList.appendChild(listItem);
            }

            // Limpar o formulário após a atualização
            updateForm.reset();
        });

        // Exemplo de exclusão de conta (substitua com sua lógica real)
        const deleteAccountButton = document.getElementById('deleteAccount');
        deleteAccountButton.addEventListener('click', function () {
            if (confirm('Tem certeza de que deseja deletar sua conta?')) {
                // Substitua esta lógica com a sua lógica de exclusão de conta
                alert('Conta deletada com sucesso!');
                // Você pode redirecionar o usuário para a página de login, por exemplo
                // window.location.href = '/login';
            }
        });
    });
</script>
</body>

</html>
